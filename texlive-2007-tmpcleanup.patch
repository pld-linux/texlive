--- TeX/texk/tetex/texconfig.tmpcleanup	2006-05-24 17:21:48.000000000 -0700
+++ TeX/texk/tetex/texconfig	2006-05-24 17:23:55.000000000 -0700
@@ -38,7 +38,8 @@
   TEXSOURCES TFMFONTS TRFONTS TTFONTS VFFONTS WEB2C WEBINPUTS
 "
 tmpdir=`mktemp -d "${TMP-/tmp}/$progname.XXXXXX"` || exit 1
-needsCleanup=false
+trap -- "cleanup;" EXIT 1 2 3 7 13 15
+needsCleanup=true
 lastUpdatedFile=
 
 ###############################################################################
--- TeX/texk/tetex/updmap.tmpcleanup	2006-05-24 17:24:18.000000000 -0700
+++ TeX/texk/tetex/updmap	2006-05-24 17:26:39.000000000 -0700
@@ -1288,7 +1288,7 @@
   texhashEnabled=true
   mkmapEnabled=true
   verbose=true
-  needsCleanup=false
+  needsCleanup=true
 
   cnfFileShort=updmap.cfg
   cnfFile=
@@ -1296,7 +1296,8 @@
   : ${TEXMFMAIN=`kpsewhich -var-value=TEXMFMAIN`}
 
   tmpdir=`mktemp -d ${TMP-/tmp}/$progname.XXXXXX` || \
-       abort "could not create directory"
+       abort "could not create temporary directory"
+  trap -- "cleanup;" EXIT 1 2 3 7 13 15
   tmp1=$tmpdir/a
   tmp2=$tmpdir/b
   tmp3=$tmpdir/c
--- TeX/texk/tetex/fmtutil.tmpcleanup	2006-05-24 17:27:13.000000000 -0700
+++ TeX/texk/tetex/fmtutil	2006-05-24 17:30:36.000000000 -0700
@@ -349,11 +349,13 @@
   destdir=     # global variable: where do we put the format files?
   cnf_file=    # global variable: full name of the config file
   cmd=         # desired action from command line
-  needsCleanup=false
+  needsCleanup=true
   need_find_hyphenfile=false
   cfgparam=
   cfgmaint=
-  tmpdir=`mktemp -d ${TMP-/tmp}/$progname.XXXXXX`
+  tmpdir=`mktemp -d ${TMP-/tmp}/$progname.XXXXXX` || \
+      abort "could not create temporary directory"
+  trap -- "cleanup;" EXIT 1 2 3 7 13 15
   verboseFlag=true
 
   # mktexfmtMode: if called as mktexfmt, set to true. Will echo the generated
